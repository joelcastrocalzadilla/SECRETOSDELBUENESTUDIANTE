<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>üìä Ritual Metodo Gr√°fico - Sistema de Ecuaciones</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f1f8e9;
      padding: 20px;
      color: #333;
    }
    h1 {
      color: #33691e;
    }
    label, input {
      margin: 5px;
    }
    .paso {
      background-color: #dcedc8;
      border-left: 5px solid #8bc34a;
      padding: 10px;
      margin-top: 15px;
    }
    .celebracion {
      background-color: #fff59d;
      border-left: 5px solid #fbc02d;
      padding: 10px;
      font-weight: bold;
    }
    canvas {
      margin-top: 20px;
      border: 1px solid #ccc;
      background-color: #fff;
    }
  </style>
</head>
<body>

  <h1>üìä Metodo Gr√°fico </h1>
  <p>Ingresa los coeficientes de tu sistema:</p>

  <div>
    <label>Ecuaci√≥n 1: </label>
    <input type="number" id="a1" placeholder="a‚ÇÅ (x)"> +
    <input type="number" id="b1" placeholder="b‚ÇÅ (y)"> =
    <input type="number" id="c1" placeholder="c‚ÇÅ">
  </div>

  <div>
    <label>Ecuaci√≥n 2: </label>
    <input type="number" id="a2" placeholder="a‚ÇÇ (x)"> +
    <input type="number" id="b2" placeholder="b‚ÇÇ (y)"> =
    <input type="number" id="c2" placeholder="c‚ÇÇ">
  </div>

  <button onclick="resolver()">üìê Resolver gr√°ficamente</button>

  <div id="resultado"></div>
  <canvas id="grafico" width="400" height="400"></canvas>

  <script>
    function resolver() {
      const a1 = parseFloat(document.getElementById("a1").value);
      const b1 = parseFloat(document.getElementById("b1").value);
      const c1 = parseFloat(document.getElementById("c1").value);
      const a2 = parseFloat(document.getElementById("a2").value);
      const b2 = parseFloat(document.getElementById("b2").value);
      const c2 = parseFloat(document.getElementById("c2").value);

      let html = "";

      html += `<div class="paso">üå± Sistema armado:<br>
      \\[
      \\begin{cases}
      ${a1}x + ${b1}y = ${c1} \\\\
      ${a2}x + ${b2}y = ${c2}
      \\end{cases}
      \\]</div>`;

      // Ecuaci√≥n 1: x = 0 y y = 0
      const y1 = c1 / b1;
      const x1 = c1 / a1;

      html += `<div class="paso">üìç Ecuaci√≥n 1:<br>
      Escribimos: \\( ${a1}x + ${b1}y = ${c1} \\)<br>
      <strong>Si \\( x = 0 \\):</strong><br>
      \\( ${a1}(0) + ${b1}y = ${c1} \\Rightarrow y = ${y1.toFixed(2)} \\Rightarrow (0, ${y1.toFixed(2)}) \\)<br>
      <strong>Si \\( y = 0 \\):</strong><br>
      \\( ${a1}x + ${b1}(0) = ${c1} \\Rightarrow x = ${x1.toFixed(2)} \\Rightarrow (${x1.toFixed(2)}, 0) \\)
      </div>`;

      // Ecuaci√≥n 2: x = 0 y y = 0
      const y2 = c2 / b2;
      const x2 = c2 / a2;

      html += `<div class="paso">üìç Ecuaci√≥n 2:<br>
      Escribimos: \\( ${a2}x + ${b2}y = ${c2} \\)<br>
      <strong>Si \\( x = 0 \\):</strong><br>
      \\( ${a2}(0) + ${b2}y = ${c2} \\Rightarrow y = ${y2.toFixed(2)} \\Rightarrow (0, ${y2.toFixed(2)}) \\)<br>
      <strong>Si \\( y = 0 \\):</strong><br>
      \\( ${a2}x + ${b2}(0) = ${c2} \\Rightarrow x = ${x2.toFixed(2)} \\Rightarrow (${x2.toFixed(2)}, 0) \\)
      </div>`;

      html += `<div class="celebracion">üéØ Trazamos ambas rectas con los puntos obtenidos. La intersecci√≥n es la soluci√≥n visual del sistema.</div>`;

      document.getElementById("resultado").innerHTML = html;
      MathJax.typeset();

      // Graficaci√≥n
      const canvas = document.getElementById("grafico");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Ejes
      ctx.beginPath();
      ctx.moveTo(200, 0);
      ctx.lineTo(200, 400);
      ctx.moveTo(0, 200);
      ctx.lineTo(400, 200);
      ctx.strokeStyle = "#000";
      ctx.lineWidth = 1.5;
      ctx.stroke();

      ctx.font = "10px Segoe UI";
      ctx.fillStyle = "#333";
      for (let i = -9; i <= 9; i++) {
        if (i !== 0) {
          ctx.beginPath();
          ctx.moveTo(200 + i * 20, 195);
          ctx.lineTo(200 + i * 20, 205);
          ctx.stroke();
          ctx.fillText(i, 200 + i * 20 - 5, 215);

          ctx.beginPath();
          ctx.moveTo(195, 200 - i * 20);
          ctx.lineTo(205, 200 - i * 20);
          ctx.stroke();
          ctx.fillText(i, 180, 200 - i * 20 + 3);
        }
      }

      ctx.font = "12px Segoe UI";
      ctx.fillText("x", 390, 215);
      ctx.fillText("y", 210, 10);

      function dibujarRecta(a, b, c, color) {
        const x1 = -10, x2 = 10;
        const y1 = (c - a * x1) / b;
        const y2 = (c - a * x2) / b;

        ctx.beginPath();
        ctx.moveTo(200 + x1 * 20, 200 - y1 * 20);
        ctx.lineTo(200 + x2 * 20, 200 - y2 * 20);
        ctx.strokeStyle = color;
        ctx.lineWidth = 2;
        ctx.stroke();
      }

      dibujarRecta(a1, b1, c1, "#33691e");
      dibujarRecta(a2, b2, c2, "#fbc02d");
    }
  </script>

</body>
</html>