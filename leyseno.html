<!DOCTYPE html>
<html>
<head>
  <title>Teorema del Seno Ritualizado</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f9f9f9; }
    canvas { border: 1px solid #000; margin-top: 20px; }
    input { margin: 5px; width: 100px; }
    label { display: block; margin-top: 10px; }
  </style>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
</head>
<body>
  <h2>üî∫ Ceremonia del Teorema del Seno</h2>
  <p>Ingresa dos lados y un √°ngulo opuesto, o dos √°ngulos y un lado:</p>

  <label>Lado a: <input type="number" id="a"></label>
  <label>Lado b: <input type="number" id="b"></label>
  <label>Lado c: <input type="number" id="c"></label>
  <label>√Ångulo A (¬∞): <input type="number" id="angleA"></label>
  <label>√Ångulo B (¬∞): <input type="number" id="angleB"></label>
  <label>√Ångulo C (¬∞): <input type="number" id="angleC"></label>
  <button onclick="resolver()">Aplicar Teorema</button>

  <div id="resultado" style="margin-top:20px;"></div>
  <canvas id="triangulo" width="800" height="600"></canvas>

  <script>
    function resolver() {
      let a = parseFloat(document.getElementById("a").value);
      let b = parseFloat(document.getElementById("b").value);
      let c = parseFloat(document.getElementById("c").value);
      let angleA = parseFloat(document.getElementById("angleA").value);
      let angleB = parseFloat(document.getElementById("angleB").value);
      let angleC = parseFloat(document.getElementById("angleC").value);
      let resultado = "";

      const toRad = deg => deg * Math.PI / 180;
      const toDeg = rad => rad * 180 / Math.PI;

      // Calcular √°ngulo faltante si hay dos
      if ((angleA && angleB && !angleC) || (angleA && angleC && !angleB) || (angleB && angleC && !angleA)) {
        if (!angleA) angleA = 180 - angleB - angleC;
        if (!angleB) angleB = 180 - angleA - angleC;
        if (!angleC) angleC = 180 - angleA - angleB;
        resultado += `<h3>üìê C√°lculo del √°ngulo faltante:</h3>`;
        resultado += `<p>\\[ A + B + C = 180^\\circ \\]</p>`;
        resultado += `<p>\\[ C = 180^\\circ - ${angleA?.toFixed(2) || "?"}^\\circ - ${angleB?.toFixed(2) || "?"}^\\circ = ${angleC?.toFixed(2) || "?"}^\\circ \\]</p>`;
      }

      // Caso: a, b y A ‚Üí calcular B, C, c
      if (a && b && angleA && !angleB) {
        const sinA = Math.sin(toRad(angleA));
        const sinB = (b * sinA) / a;
        angleB = toDeg(Math.asin(sinB));
        angleC = 180 - angleA - angleB;
        const sinC = Math.sin(toRad(angleC));
        c = (a * sinC) / sinA;

        resultado += `<h3>üìê C√°lculo de √°ngulo B:</h3>`;
        resultado += `<p>\\[ \\sin(B) = \\frac{${b.toFixed(2)} \\cdot \\sin(${angleA.toFixed(2)}^\\circ)}{${a.toFixed(2)}} = ${sinB.toFixed(4)} \\Rightarrow B = ${angleB.toFixed(2)}^\\circ \\]</p>`;
        resultado += `<h3>üìê C√°lculo de √°ngulo C:</h3>`;
        resultado += `<p>\\[ C = 180^\\circ - ${angleA.toFixed(2)}^\\circ - ${angleB.toFixed(2)}^\\circ = ${angleC.toFixed(2)}^\\circ \\]</p>`;
        resultado += `<h3>üìê C√°lculo del lado c:</h3>`;
        resultado += `<p>\\[ c = \\frac{${a.toFixed(2)} \\cdot \\sin(${angleC.toFixed(2)}^\\circ)}{\\sin(${angleA.toFixed(2)}^\\circ)} = ${c.toFixed(2)} \\]</p>`;
      }

      // Caso: a, c y A ‚Üí calcular C, B, b
      if (a && c && angleA && !angleC) {
        const sinA = Math.sin(toRad(angleA));
        const sinC = (c * sinA) / a;
        angleC = toDeg(Math.asin(sinC));
        angleB = 180 - angleA - angleC;
        const sinB = Math.sin(toRad(angleB));
        b = (a * sinB) / sinA;

        resultado += `<h3>üìê C√°lculo de √°ngulo C:</h3>`;
        resultado += `<p>\\[ \\sin(C) = \\frac{${c.toFixed(2)} \\cdot \\sin(${angleA.toFixed(2)}^\\circ)}{${a.toFixed(2)}} = ${sinC.toFixed(4)} \\Rightarrow C = ${angleC.toFixed(2)}^\\circ \\]</p>`;
        resultado += `<h3>üìê C√°lculo de √°ngulo B:</h3>`;
        resultado += `<p>\\[ B = 180^\\circ - ${angleA.toFixed(2)}^\\circ - ${angleC.toFixed(2)}^\\circ = ${angleB.toFixed(2)}^\\circ \\]</p>`;
        resultado += `<h3>üìê C√°lculo del lado b:</h3>`;
        resultado += `<p>\\[ b = \\frac{${a.toFixed(2)} \\cdot \\sin(${angleB.toFixed(2)}^\\circ)}{\\sin(${angleA.toFixed(2)}^\\circ)} = ${b.toFixed(2)} \\]</p>`;
      }

      // Mostrar resultados
      resultado += `<h3>‚úÖ Resultados ritualizados:</h3>`;
      resultado += `<ul>`;
      resultado += `<li>Lado a = ${a?.toFixed(2) || "?"}</li>`;
      resultado += `<li>Lado b = ${b?.toFixed(2) || "?"}</li>`;
      resultado += `<li>Lado c = ${c?.toFixed(2) || "?"}</li>`;
      resultado += `<li>√Ångulo A = ${angleA?.toFixed(2) || "?"}¬∞</li>`;
      resultado += `<li>√Ångulo B = ${angleB?.toFixed(2) || "?"}¬∞</li>`;
      resultado += `<li>√Ångulo C = ${angleC?.toFixed(2) || "?"}¬∞</li>`;
      resultado += `</ul>`;

      document.getElementById("resultado").innerHTML = resultado;
      MathJax.typeset();

      // Dibujo del tri√°ngulo
      const canvas = document.getElementById("triangulo");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      if (a && b && c && angleA) {
        const escala = 20;
        const Ax = 100, Ay = 500;
        const Bx = Ax + c * escala, By = Ay;
        const radA = toRad(angleA);
        const Cx = Ax + b * escala * Math.cos(radA);
        const Cy = Ay - b * escala * Math.sin(radA);

        ctx.beginPath();
        ctx.moveTo(Ax, Ay);
        ctx.lineTo(Bx, By);
        ctx.lineTo(Cx, Cy);
               ctx.closePath();
        ctx.stroke();

        // V√©rtices
        ctx.fillText("A", Ax - 10, Ay + 10);
        ctx.fillText("B", Bx + 10, By + 10);
        ctx.fillText("C", Cx, Cy - 10);

        // Lados con valores
        ctx.fillText(`a = ${a.toFixed(2)}`, (Bx + Cx)/2, (By + Cy)/2);
        ctx.fillText(`b = ${b.toFixed(2)}`, (Ax + Cx)/2, (Ay + Cy)/2);
        ctx.fillText(`c = ${c.toFixed(2)}`, (Ax + Bx)/2, Ay + 15);

        // √Ångulos con valores
        ctx.fillText(`A = ${angleA.toFixed(1)}¬∞`, Ax - 40, Ay + 40);
        ctx.fillText(`B = ${angleB.toFixed(1)}¬∞`, Bx + 30, By + 40);
        ctx.fillText(`C = ${angleC.toFixed(1)}¬∞`, Cx + 20, Cy - 30);
      }
    }
  </script>
</body>
</html>
       