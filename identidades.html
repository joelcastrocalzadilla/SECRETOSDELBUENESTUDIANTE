<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Identidades Trigonom√©tricas Ritualizadas</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #f9f9f9; color: #222; }
    canvas { border: 1px solid #000; margin-top: 20px; background: #fff; }
    input { margin: 5px; width: 100px; padding: 6px; }
    label { display: block; margin-top: 10px; }
    button { padding: 8px 14px; background-color: #4e342e; color: white; border: none; border-radius: 5px; cursor: pointer; }
  </style>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
</head>
<body>
  <h2>üìê Ceremonia de Identidades Trigonom√©tricas</h2>
  <p>Ingresa al menos dos lados del tri√°ngulo rect√°ngulo:</p>

  <label>Cateto a (adyacente al √°ngulo A): <input type="number" id="a"></label>
  <label>Cateto b (opuesto al √°ngulo A): <input type="number" id="b"></label>
  <label>Hipotenusa c: <input type="number" id="c"></label>
  <button onclick="resolver()">Calcular razones</button>

  <div id="resultado" style="margin-top:20px;"></div>
  <canvas id="triangulo" width="800" height="600"></canvas>

  <script>
    function resolver() {
      let a = parseFloat(document.getElementById("a").value);
      let b = parseFloat(document.getElementById("b").value);
      let c = parseFloat(document.getElementById("c").value);
      let resultado = "";

      if (a && b && !c) {
        c = Math.sqrt(a*a + b*b);
        resultado += `<h3>üìê C√°lculo de la hipotenusa:</h3>`;
        resultado += `<p>\

\[ c = \\sqrt{a^2 + b^2} = \\sqrt{${a}^2 + ${b}^2} = \\sqrt{${(a*a + b*b).toFixed(0)}} = ${c.toFixed(2)} \\]

</p>`;
      } else if (c && b && !a) {
        if (c <= b) {
          resultado += `<p>‚ö†Ô∏è La hipotenusa debe ser mayor que el cateto.</p>`;
          document.getElementById("resultado").innerHTML = resultado;
          MathJax.typeset();
          return;
        }
        a = Math.sqrt(c*c - b*b);
        resultado += `<h3>üìê C√°lculo del cateto a:</h3>`;
        resultado += `<p>\

\[ a = \\sqrt{c^2 - b^2} = \\sqrt{${c}^2 - ${b}^2} = ${a.toFixed(2)} \\]

</p>`;
      } else if (c && a && !b) {
        if (c <= a) {
          resultado += `<p>‚ö†Ô∏è La hipotenusa debe ser mayor que el cateto.</p>`;
          document.getElementById("resultado").innerHTML = resultado;
          MathJax.typeset();
          return;
        }
        b = Math.sqrt(c*c - a*a);
        resultado += `<h3>üìê C√°lculo del cateto b:</h3>`;
        resultado += `<p>\

\[ b = \\sqrt{c^2 - a^2} = \\sqrt{${c}^2 - ${a}^2} = ${b.toFixed(2)} \\]

</p>`;
      }

      if (!(a && b && c)) {
        resultado += `<p>‚ö†Ô∏è Ingresa al menos dos lados v√°lidos.</p>`;
        document.getElementById("resultado").innerHTML = resultado;
        MathJax.typeset();
        return;
      }

      const sinA = b / c;
      const cosA = a / c;
      const tanA = b / a;
      const cotA = a / b;
      const secA = c / a;
      const cscA = c / b;
      const angleA = Math.atan(b / a) * 180 / Math.PI;
      const angleB = 90 - angleA;

      resultado += `<h3>üìê Razones trigonom√©tricas para el √°ngulo A:</h3>`;
      resultado += `<p>\

\[ \\sin(A) = \\frac{${b}}{${c.toFixed(4)}} = ${sinA.toFixed(5)} \\]

</p>`;
      resultado += `<p>\

\[ \\cos(A) = \\frac{${a}}{${c.toFixed(4)}} = ${cosA.toFixed(5)} \\]

</p>`;
      resultado += `<p>\

\[ \\tan(A) = \\frac{${b}}{${a}} = ${tanA.toFixed(5)} \\]

</p>`;
      resultado += `<p>\

\[ \\cot(A) = \\frac{${a}}{${b}} = ${cotA.toFixed(5)} \\]

</p>`;
      resultado += `<p>\

\[ \\sec(A) = \\frac{${c.toFixed(4)}}{${a}} = ${secA.toFixed(5)} \\]

</p>`;
      resultado += `<p>\

\[ \\csc(A) = \\frac{${c.toFixed(4)}}{${b}} = ${cscA.toFixed(5)} \\]

</p>`;

      resultado += `<h3>‚úÖ Resultados ritualizados:</h3>`;
      resultado += `<ul>`;
      resultado += `<li>Cateto a = ${a.toFixed(2)}</li>`;
      resultado += `<li>Cateto b = ${b.toFixed(2)}</li>`;
      resultado += `<li>Hipotenusa c = ${c.toFixed(2)}</li>`;
      resultado += `<li>√Ångulo A ‚âà ${angleA.toFixed(2)}¬∞</li>`;
      resultado += `<li>√Ångulo B ‚âà ${angleB.toFixed(2)}¬∞</li>`;
      resultado += `<li>√Ångulo C = 90¬∞</li>`;
      resultado += `</ul>`;

      document.getElementById("resultado").innerHTML = resultado;
      MathJax.typeset();

      const canvas = document.getElementById("triangulo");
      const ctx = canvas.getContext("2d");
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      const escala = 20;
      const Cx = 100, Cy = 500; // C es el √°ngulo recto
      const Ax = Cx, Ay = Cy - b * escala;
      const Bx = Cx + a * escala, By = Cy;

      ctx.beginPath();
      ctx.moveTo(Cx, Cy); // C
      ctx.lineTo(Ax, Ay); // A
      ctx.lineTo(Bx, By); // B
      ctx.closePath();
      ctx.stroke();

      ctx.fillText("C", Cx - 10, Cy + 10);
      ctx.fillText("A", Ax - 10, Ay - 10);
      ctx.fillText("B", Bx + 10, By + 10);

      ctx.fillText(`a = ${a.toFixed(2)}`, (Cx + Bx)/2, Cy + 15);
      ctx.fillText(`b = ${b.toFixed(2)}`, Cx - 40, (Cy + Ay)/2);
      ctx.fillText(`c = ${c.toFixed(2)}`, (Ax + Bx)/2, (Ay + By)/2);

      ctx.fillText(`‚à†C = 90¬∞`, Cx + 6, Cy - 6);
      ctx.fillText(`‚à†A ‚âà ${angleA.toFixed(1)}¬∞`, Ax + 6, Ay + 16);
      ctx.fillText(`‚à†B ‚âà ${angleB.toFixed(1)}¬∞`, Bx - 50, By - 8);
    }
  </script>

  <div style="margin-top: 40px; text-align: center;">
    <button onclick="window.location.href='principal.html'" style="padding: 10px 20px; background-color: #4e342e; color: white; border: none; border-radius: 5px; font-size: 16px;">
      üö™ Salir del sistema
    </button>
    <p style="margin-top: 10px; font-style: italic; color: #555;">
      ‚ÄúCerrar esta rutina es honrar el tri√°ngulo que nos ense√±√≥ a mirar desde otro v√©rtice.‚Äù
    </p>
  </div>
</body>
</html>

      
